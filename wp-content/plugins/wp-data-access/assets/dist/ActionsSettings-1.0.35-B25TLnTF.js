import{C as d,bm as m,l as c,ar as u,S as p,as as f,a2 as C,b as h,N as T}from"./lib-1.0.35-vCbYWOI3.js";import{R as b}from"./RestApi-1.0.35-Bt-tzntO.js";import{T as l}from"./TargetEnum-1.0.35-DPFnTxiX.js";const _=(t,o,n,i,s,e,a,g=!1)=>{c.debug(t,o,n,i,s),b(d.appUrlSettings,{action:"admin_settings",dbs:n,tbl:i,settings:JSON.stringify({scope:t,target:o,data:s})},e,a,g)},y=(t,o,n,i,s,e,a,g,r=!1)=>{const S={app_id:t,cnt_id:o,target:n,settings:JSON.stringify(i),theme:JSON.stringify(e)};s!==void 0&&(S.chart=JSON.stringify(s)),b(d.appUrlAppSettings,S,a,g,r)},N=(t,o,n,i,s=!1)=>{const e=m(t);c.debug(e);const{state:a,...g}=C.getSelectors().selectTableById(p.getState().tables,t);if(c.debug(a,g),e.app_id){const r={...u.getSelectors().selectChart(p.getState().charts,t)};delete r.data,c.debug(r);const{...S}=f.getSelectors().selectThemeById(p.getState().themes,t);c.debug(S),y(e.app_id,e.cnt_id,l.TABLE,g,r,S,n,i,s)}else e.dbs.trim()!==""&&e.tbl.trim()!==""?_(o,l.TABLE,e.dbs,e.tbl,g,n,i,s):(c.error("error","Missing data source"),i(h.contactSupport))},J=(t,o,n,i,s,e=!1)=>{const a=m(t);c.debug(a);const{state:g,...r}=T.getSelectors().selectForm(p.getState().forms,t);if(c.debug(g,r),a.app_id){const{...S}=f.getSelectors().selectThemeById(p.getState().themes,t);c.debug(S),y(a.app_id,a.cnt_id,n,r,void 0,S,i,s,e)}else a.dbs.trim()!==""&&a.tbl.trim()!==""?_(o,n,a.dbs,a.tbl,r,i,s,e):(c.error("error","Missing data source"),s(h.contactSupport))},O=(t,o,n,i=!1)=>{const s=m(t);c.debug(s,t);const e=s.app_id,a=s.cnt_id,g=u.getSelectors().selectChart(p.getState().charts,t);c.debug(g);const{...r}=f.getSelectors().selectThemeById(p.getState().themes,t);c.debug(r),b(d.appUrlAppSettings,{app_id:e,cnt_id:a,target:l.CHART,settings:JSON.stringify(g),theme:JSON.stringify(r)},o,n,i)};export{O as a,N as b,J as c,_ as d,y as s};
