const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableQuery-1.0.35-ah_QGnBJ.js","./main-1.0.35.js","./cm-1.0.35--NMEhA6K.js","./redux-1.0.35-xa1uZ5t4.js","./vendor-1.0.35-CN03Eozo.js","./notistack-1.0.35-C7EWtXAA.js","./lib-1.0.35-vCbYWOI3.js","./loglevel-1.0.35-BZ7XahX3.js","./lodash-1.0.35-CNe2eGU5.js","./moment-1.0.35-C5S46NFB.js","./useStoreTable-1.0.35-BoSxKhPI.js","./RestApi-1.0.35-Bt-tzntO.js","./index-1.0.35-BRrsEYVz.js","./cjs-1.0.35-B75n3jry.js","./Typography-1.0.35-DmbWmVEH.js","./iconBase-1.0.35-CEh1aNes.js","./useEnhancedEffect-1.0.35-gtlBTowv.js","./ActionsDml-1.0.35-BvngWXxi.js","./ConfirmDialog-1.0.35-5-r3Xts8.js","./AdminTheme-1.0.35-BtyHaBRh.js","./DialogContent-1.0.35-B5TpMgZC.js","./ConfirmDialog-1.0.35--D4jr2go.css","./SanitizeComponent-1.0.35-FQ6XuGa5.js","./dompurify-1.0.35-DhD2mIk-.js","./index-1.0.35-DHBDMhlb.js","./tanstack-1.0.35-wJk0lVz7.js","./index.esm-1.0.35-D3Hcqm12.js","./createSvgIcon-1.0.35-C47rBL-a.js","./index-1.0.35-CCys4hnd.js","./Stack-1.0.35-CNlFgJdo.js","./Tooltip-1.0.35-DvHLxZ2q.js","./useControlled-1.0.35-Cu7qahuZ.js","./Popper-1.0.35-BZjTWtMm.js","./Spinner-1.0.35-Dd1TcgqP.js","./Radio-1.0.35-Hf47vRci.js","./SwitchBase-1.0.35-BN1QoK5P.js","./useFormControl-1.0.35-gKEqvAy-.js","./Checkbox-1.0.35-DB1d6Tfc.js","./Menu-1.0.35-3APgaaPr.js","./Autocomplete-1.0.35-DKAFaob_.js","./TextField-1.0.35-B1uB0pL3.js","./FormHelperText-1.0.35-BubqYRHL.js","./FormLabel-1.0.35-DqGGwQsT.js","./Close-1.0.35-D-owgKS4.js","./Collapse-1.0.35-EVtTATBO.js","./AlertTitle-1.0.35-t_Cdy-a_.js","./InputAdornment-1.0.35-CVHCdOjF.js","./MenuItem-1.0.35-DJ1Zxsyh.js","./ListItemIcon-1.0.35-Cltcdraz.js","./Divider-1.0.35-CstwCFXQ.js","./FormControlLabel-1.0.35-DFi_cuDq.js","./Switch-1.0.35-Z50HBuFJ.js","./Slider-1.0.35-W2wgb_UG.js","./visuallyHidden-1.0.35-Dan1xhjv.js","./TimePicker-1.0.35-hlUlrDh1.js","./useMobilePicker-1.0.35-DbPqlT_f.js","./index-1.0.35-Bmw9p4nW.js","./ListItem-1.0.35-wFs78pI9.js","./timeViewRenderers-1.0.35-CeX9NbnQ.js","./DateTimePicker-1.0.35-CyWECMiL.js","./Tabs-1.0.35-D_fzHWOP.js","./dateViewRenderers-1.0.35-C_1fWZJ-.js","./DatePicker-1.0.35-B-kEzyTM.js","./index.esm-1.0.35-BcBy0Voo.js","./useTheme-1.0.35-DvysJ9Pk.js","./useScreenSize-1.0.35-D9QB3bUJ.js","./ThemeContainer-1.0.35-BrWpdfpd.js","./FallbackSpinner-1.0.35-CzYFJIrC.js","./ThemeContainer-1.0.35-DR7D6eET.css","./index-1.0.35-ChYeyr_I.js","./AggregationLabelsEnum-1.0.35-B-3lhjpJ.js","./useTableColumnOrder-1.0.35-I4yr5RT5.js","./TableQuery-1.0.35-uJ6MlsKy.css","./SettingsTable-1.0.35-Dy-01CKB.js","./useTableUpdater-1.0.35-Du0YkN1k.js","./AccordionSummary-1.0.35-Do5lpUEE.js","./AccordionDetails-1.0.35-CUwNn0VM.js","./RadioGroup-1.0.35-en0YSLOf.js","./Link-1.0.35-CxbvVS8_.js","./CssUnitTextField-1.0.35-Bg0goXyi.js","./SettingsFormRelationships-1.0.35-DSu2avTx.js","./ComponentColumn-1.0.35-UdBdi3SL.js","./ActionsExplorer-1.0.35-frLqGKOk.js","./ActionsApp-1.0.35-BVk_SN7N.js","./useFormUpdater-1.0.35-Cr_Tlk6T.js","./ToggleButtonGroup-1.0.35-D2jgODVu.js","./Stepper-1.0.35-B-Cu3w2D.js","./StepContent-1.0.35-D2uWS0po.js","./PremiumFeature-1.0.35-BMopEtPl.js","./useFormStore-1.0.35-TLrcUzfK.js","./SettingsColumns-1.0.35-BFYUTq53.js","./useMetadataColumns-1.0.35-BSxG1_S4.js","./index-1.0.35-Bey3P_99.js","./SettingsCharts-1.0.35-BkedmxY6.js","./TableChartSelection-1.0.35-CLIWqP-8.js","./TabPanel-1.0.35-CQEcgw4y.js","./ActionsSettings-1.0.35-B25TLnTF.js","./TargetEnum-1.0.35-DPFnTxiX.js","./ScopeEnum-1.0.35-B4DDvIDj.js","./index-1.0.35-BtMPEpn4.js","./settings-1.0.35-CRkkJAih.js","./settings-1.0.35-Bx2jvYL6.css","./SettingsTableCode-1.0.35-BsmVks2a.js","./index-1.0.35-DVsXCdtu.js","./SettingsTableGlobalCode-1.0.35-CwQbBRGJ.js","./TreeItem2Provider-1.0.35-DbJFXFP5.js","./ResizableDrawer-1.0.35-Db0Upw2F.js","./ThemeSettings-1.0.35-C4tTOu8W.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.35--NMEhA6K.js";import{r}from"./redux-1.0.35-xa1uZ5t4.js";import{A as L,a as W,T as X}from"./AdminTheme-1.0.35-BtyHaBRh.js";import{l as i,Q as $,a2 as f,S as u,ar as R,as as J,P as Z,bn as ee,a as O,s as te,bo as se,bp as re,au as oe,b as j,Y as ne}from"./lib-1.0.35-vCbYWOI3.js";import{_ as c}from"./main-1.0.35.js";import{Q as ie,a as le}from"./tanstack-1.0.35-wJk0lVz7.js";import{F as ae}from"./FallbackSpinner-1.0.35-CzYFJIrC.js";import{u as w,a as F}from"./RestApi-1.0.35-Bt-tzntO.js";import{b as ce}from"./ActionsSettings-1.0.35-B25TLnTF.js";import{T,C as M,a as V,b as ue}from"./ConfirmDialog-1.0.35-5-r3Xts8.js";import{S as me}from"./ScopeEnum-1.0.35-B4DDvIDj.js";import{g as de,j as be,f as he,k as xe,l as pe}from"./index-1.0.35-BtMPEpn4.js";import{A as ge,T as Se,M as fe,B as _}from"./cjs-1.0.35-B75n3jry.js";import{e as x}from"./notistack-1.0.35-C7EWtXAA.js";import{B as je,a as Te,T as _e,b as p}from"./TabPanel-1.0.35-CQEcgw4y.js";import{B as Ce,S as m}from"./Spinner-1.0.35-Dd1TcgqP.js";import{u as ke}from"./useTableUpdater-1.0.35-Du0YkN1k.js";import{B as ve}from"./settings-1.0.35-CRkkJAih.js";import{C as Be,D as ye}from"./useTheme-1.0.35-DvysJ9Pk.js";import{T as Ee}from"./Typography-1.0.35-DmbWmVEH.js";import{I as C}from"./iconBase-1.0.35-CEh1aNes.js";const Ae=r.lazy(()=>c(()=>import("./TableQuery-1.0.35-ah_QGnBJ.js").then(t=>t.T),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72]),import.meta.url)),Pe=({appId:t,display:o,refresh:n,metaData:a,showForm:l})=>{i.debug(t,o,n);const d=new ie;return e.jsx(le,{client:d,children:e.jsx(r.Suspense,{fallback:e.jsx(ae,{}),children:e.jsx(Ae,{appId:t,display:o,refresh:n,showForm:l,metaData:a})})})},ze=t=>{const o=w(n=>n.ui.tableSettings.isOpen&&n.ui.tableSettings.appId===t);return i.debug("tableSettingsVisible",o),o},De=()=>{const t=w(o=>o.ui.tableSettings.hideThemeSettings);return i.debug("hideThemeSetting",t),t},Le=t=>{const o=F();return()=>{o($({appId:t,property:{updateChart:new Date().getTime()}}))}},Re=r.lazy(()=>c(()=>import("./SettingsTable-1.0.35-Dy-01CKB.js"),__vite__mapDeps([73,2,3,4,6,7,8,9,11,10,13,14,15,16,5,74,69,75,31,44,76,33,41,36,77,34,35,27,50,51,78,79,40,38,19,42,80,81,82,39,43,32,83,37,30,24,84,47,85,86,87,64,28,18,20,21,88,89,57]),import.meta.url)),Oe=r.lazy(()=>c(()=>import("./SettingsColumns-1.0.35-BFYUTq53.js"),__vite__mapDeps([90,2,3,4,91,13,14,6,7,8,9,15,16,5,64,11,28,10,89,33,19,92,17,24,40,36,38,41,42,31,27,47,69,74,86,87,44,50,37,35,18,20,21,78,75,76,51,52,53,88,70,39,43,32,71]),import.meta.url)),Me=r.lazy(()=>c(()=>import("./SettingsCharts-1.0.35-BkedmxY6.js"),__vite__mapDeps([93,1,2,3,4,5,6,7,8,9,10,11,74,94,24,15,14,16,71,64,28,13,63,33,41,36,40,38,19,42,31,27,47,30,32,39,43,95,20,88,75,44,76,50,51,35,85,25,67,96,97,18,21,98,99,100,101]),import.meta.url)),Ve=r.lazy(()=>c(()=>import("./SettingsTableCode-1.0.35-BsmVks2a.js"),__vite__mapDeps([102,2,3,4,103,56,13,14,6,7,8,9,15,16,5,11,66,1,33,19,10,17,64,28,65,23,67,30,31,32,68,74,88,24,42,36,104,99,105,20,27,37,35,44,75,38]),import.meta.url)),we=r.lazy(()=>c(()=>import("./ResizableDrawer-1.0.35-Db0Upw2F.js"),__vite__mapDeps([106,2,3,4,65,6,7,8,9,11,14,19,16,15,13,5,38]),import.meta.url)),Fe=r.lazy(()=>c(()=>import("./ThemeSettings-1.0.35-C4tTOu8W.js"),__vite__mapDeps([107,2,3,4,11,6,7,8,9,64,28,14,13,15,16,5,88,24,19,42,36,12,33,41,51,35,31,29,20,52,53,38,50,78,77,34,27,79,40,75,44,76]),import.meta.url)),Ne=({appId:t,metaData:o})=>{var z,D;i.debug(t,o);const n=F(),a=De();Be();const l=ke(t),d=Le(t),[b,N]=r.useState(f.getSelectors().selectTableById(u.getState().tables,t));i.debug(b);const[k,U]=r.useState(R.getSelectors().selectChart(u.getState().charts,t));i.debug(k);const[Q,Qe]=r.useState(J.getSelectors().selectThemeById(u.getState().themes,t));i.debug(Q);const[G,v]=r.useState(!1),B=()=>f.getSelectors().selectTableIsUpdated(u.getState().tables,t),g=s=>{l(s)},H=((z=L)==null?void 0:z.palette.mode)===Z.LIGHT?(D=L)==null?void 0:D.palette.primary.main:"",y=s=>{n(te({anchor:s}))},E=()=>{n(re({appId:t,tableState:b})),n(oe({appId:t,chartState:k})),d()},h=()=>{n(se({})),g(!1)},S=()=>{B()?v(!0):(E(),h())},A=()=>{ce(t,me.GLOBAL,s=>{if(i.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":N(f.getSelectors().selectTableById(u.getState().tables,t)),U(R.getSelectors().selectChart(u.getState().charts,t)),x(s.message,{variant:"success"});break;case"info":x(s.message,{variant:"info"});break;default:i.error(s),x(s.message??j.contactSupport,{variant:"error"})}else i.error(s),x(j.contactSupport,{variant:"error"})},s=>{i.error("error",s),x(s??j.contactSupport,{variant:"error"})}),g(!1)},q=()=>{B()?(A(),setTimeout(()=>{h()},1e3)):h()},K=ze(t),[P,Y]=r.useState(0),I=r.useMemo(()=>{const s=[{title:"Table",icon:e.jsx(de,{})},{title:"Columns",icon:e.jsx(be,{})},{title:"Hooks",icon:e.jsx(he,{})},{title:"Charts",icon:e.jsx(xe,{})},{title:"Theme",icon:e.jsx(pe,{})}];return ee(o)?s.splice(0,2):a?s.splice(0,4):s},[a]);return e.jsx(e.Fragment,{children:K&&e.jsxs(e.Fragment,{children:[e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsxs(we,{closeDrawer:S,children:[e.jsxs(ge,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(Se,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(Ee,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Table Builder"}),e.jsx(T,{title:"Dock to left",position:"bottom",children:e.jsx(C,{onClick:()=>{y(O.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(je,{})})}),e.jsx(T,{title:"Dock to right",position:"bottom",children:e.jsx(C,{onClick:()=>{y(O.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(Te,{})})}),e.jsx(T,{title:"Close",position:"bottom",children:e.jsx(C,{onClick:S,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(fe,{})})})]}),e.jsx(ve,{menuItems:I,menuIndex:P,setMenu:Y})]}),e.jsx(M,{className:"pp-settings-container",children:e.jsx(V,{sx:{padding:0,margin:0},children:e.jsx(_e,{value:P,children:e.jsxs(Ce,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(p,{value:0,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Re,{appId:t,metaData:o})})}),e.jsx(p,{value:1,className:"pp-column-settings-container",children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Oe,{appId:t,metaData:o})})}),e.jsx(p,{value:2,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Ve,{appId:t,tableSettings:b})})}),e.jsx(p,{value:3,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Me,{appId:t})})}),a!==!0&&e.jsx(p,{value:4,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Fe,{appId:t,source:ye.TABLE,setIsUpdated:g})})})]})})})}),e.jsx(M,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:H},children:e.jsxs(V,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(_,{variant:"outlined",className:"footer_action_button_apply",onClick:A,children:"Apply"}),e.jsx(_,{variant:"outlined",className:"footer_action_button",onClick:q,children:"OK"}),e.jsx(_,{variant:"outlined",className:"footer_action_button",onClick:S,children:"Cancel"})]})})]})}),e.jsx(ue,{title:"Close Table Builder?",message:"All uncommitted changes will be lost!",open:G,setOpen:v,onConfirm:()=>{E(),h()},onKeep:()=>{h()}})]})})},Ue=({appId:t,display:o,refresh:n,showForm:a,metaData:l})=>{i.debug(t,o,n);const d=r.useMemo(()=>ne(l),[l]),b=r.useMemo(()=>W(),[]);return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{appId:t,display:o,refresh:n,showForm:a,metaData:l}),d&&e.jsx(X,{theme:b,children:e.jsx(Ne,{appId:t,metaData:l})})]})},ut=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));export{ut as T,Le as a,ze as u};
