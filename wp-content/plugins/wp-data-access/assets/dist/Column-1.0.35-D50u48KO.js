const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.35-Bj53BrE7.js","./cm-1.0.35--NMEhA6K.js","./redux-1.0.35-xa1uZ5t4.js","./vendor-1.0.35-CN03Eozo.js","./lib-1.0.35-vCbYWOI3.js","./loglevel-1.0.35-BZ7XahX3.js","./lodash-1.0.35-CNe2eGU5.js","./moment-1.0.35-C5S46NFB.js","./TextField-1.0.35-B1uB0pL3.js","./Typography-1.0.35-DmbWmVEH.js","./iconBase-1.0.35-CEh1aNes.js","./useEnhancedEffect-1.0.35-gtlBTowv.js","./useFormControl-1.0.35-gKEqvAy-.js","./Menu-1.0.35-3APgaaPr.js","./AdminTheme-1.0.35-BtyHaBRh.js","./cjs-1.0.35-B75n3jry.js","./notistack-1.0.35-C7EWtXAA.js","./FormHelperText-1.0.35-BubqYRHL.js","./FormLabel-1.0.35-DqGGwQsT.js","./useControlled-1.0.35-Cu7qahuZ.js","./createSvgIcon-1.0.35-C47rBL-a.js","./FieldTextarea-1.0.35-Lz3MGiKY.js","./FieldNumber-1.0.35-DUqezqeY.js","./react-number-format.es-1.0.35-C0_LLGCZ.js","./FieldSet-1.0.35-CcT2_G58.js","./MenuItem-1.0.35-DJ1Zxsyh.js","./FieldEnum-1.0.35-lemJSHhu.js","./EnumTypeEnum-1.0.35-Ws4BsaYD.js","./RadioGroup-1.0.35-en0YSLOf.js","./Radio-1.0.35-Hf47vRci.js","./SwitchBase-1.0.35-BN1QoK5P.js","./FormControlLabel-1.0.35-DFi_cuDq.js","./FieldDate-1.0.35-CCvztcq4.js","./RestApi-1.0.35-Bt-tzntO.js","./lang-1.0.35-D3lkMwL5.js","./useTheme-1.0.35-DvysJ9Pk.js","./index-1.0.35-CCys4hnd.js","./ThemeContainer-1.0.35-BrWpdfpd.js","./main-1.0.35.js","./Spinner-1.0.35-Dd1TcgqP.js","./useStoreTable-1.0.35-BoSxKhPI.js","./ActionsDml-1.0.35-BvngWXxi.js","./useScreenSize-1.0.35-D9QB3bUJ.js","./dompurify-1.0.35-DhD2mIk-.js","./FallbackSpinner-1.0.35-CzYFJIrC.js","./Tooltip-1.0.35-DvHLxZ2q.js","./Popper-1.0.35-BZjTWtMm.js","./ThemeContainer-1.0.35-DR7D6eET.css","./useMobilePicker-1.0.35-DbPqlT_f.js","./index-1.0.35-Bmw9p4nW.js","./DialogContent-1.0.35-B5TpMgZC.js","./InputAdornment-1.0.35-CVHCdOjF.js","./visuallyHidden-1.0.35-Dan1xhjv.js","./ListItem-1.0.35-wFs78pI9.js","./Autocomplete-1.0.35-DKAFaob_.js","./Close-1.0.35-D-owgKS4.js","./AdapterDayjs-1.0.35-BqXOA7pd.js","./DatePicker-1.0.35-B-kEzyTM.js","./dateViewRenderers-1.0.35-C_1fWZJ-.js","./FieldDatetime-1.0.35-DRiGuB2W.js","./DateTimePicker-1.0.35-CyWECMiL.js","./Tabs-1.0.35-D_fzHWOP.js","./timeViewRenderers-1.0.35-CeX9NbnQ.js","./Divider-1.0.35-CstwCFXQ.js","./FieldTime-1.0.35-CltykJbF.js","./TimePicker-1.0.35-hlUlrDh1.js","./FieldCheckbox-1.0.35-oQlM0-RC.js","./Checkbox-1.0.35-DB1d6Tfc.js","./ColumnWpMedia-1.0.35-B0OxsKBn.js","./index-1.0.35-DHBDMhlb.js","./index.esm-1.0.35-BcBy0Voo.js","./ColumnHyperlink-1.0.35-BmZXbF-S.js","./FieldDuration-1.0.35-DlFomsJY.js"])))=>i.map(i=>d[i]);
import{_ as t}from"./main-1.0.35.js";import{j as p}from"./cm-1.0.35--NMEhA6K.js";import{r as d}from"./redux-1.0.35-xa1uZ5t4.js";import{l as T,cb as c,m as Q,cc as V,cd as M,K as X,a3 as o}from"./lib-1.0.35-vCbYWOI3.js";import{l as D}from"./ActionsDml-1.0.35-BvngWXxi.js";import{f as Z}from"./ThemeContainer-1.0.35-BrWpdfpd.js";import{T as Y}from"./TargetEnum-1.0.35-DPFnTxiX.js";import{i as l}from"./index-1.0.35-BRrsEYVz.js";import{A as m}from"./Autocomplete-1.0.35-DKAFaob_.js";import{T as a}from"./TextField-1.0.35-B1uB0pL3.js";import"./moment-1.0.35-C5S46NFB.js";import{a as ii}from"./RestApi-1.0.35-Bt-tzntO.js";import"./notistack-1.0.35-C7EWtXAA.js";import"./vendor-1.0.35-CN03Eozo.js";import"./loglevel-1.0.35-BZ7XahX3.js";import"./lodash-1.0.35-CNe2eGU5.js";import"./Spinner-1.0.35-Dd1TcgqP.js";import"./Typography-1.0.35-DmbWmVEH.js";import"./AdminTheme-1.0.35-BtyHaBRh.js";import"./useEnhancedEffect-1.0.35-gtlBTowv.js";import"./useStoreTable-1.0.35-BoSxKhPI.js";import"./useTheme-1.0.35-DvysJ9Pk.js";import"./index-1.0.35-CCys4hnd.js";import"./cjs-1.0.35-B75n3jry.js";import"./iconBase-1.0.35-CEh1aNes.js";import"./useScreenSize-1.0.35-D9QB3bUJ.js";import"./dompurify-1.0.35-DhD2mIk-.js";import"./FallbackSpinner-1.0.35-CzYFJIrC.js";import"./Tooltip-1.0.35-DvHLxZ2q.js";import"./useControlled-1.0.35-Cu7qahuZ.js";import"./Popper-1.0.35-BZjTWtMm.js";import"./Close-1.0.35-D-owgKS4.js";import"./createSvgIcon-1.0.35-C47rBL-a.js";import"./useFormControl-1.0.35-gKEqvAy-.js";import"./Menu-1.0.35-3APgaaPr.js";import"./FormHelperText-1.0.35-BubqYRHL.js";import"./FormLabel-1.0.35-DqGGwQsT.js";const ri=(_,e)=>({}),si=({appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,storeForm:j,formMode:A,locale:h,columnEvents:r})=>{var B,q;T.debug(_,e,f,k,y,i,x,s,j,A,h);const O=Z(_),[R,g]=d.useState([]);T.debug("lov",R);const[z,E]=d.useState(!1),[$,H]=d.useState(""),[K,C]=d.useState(Array.isArray((B=i.lookup)==null?void 0:B.dynamicConditions)?(q=i.lookup)==null?void 0:q.dynamicConditions.map(L=>({columnName:L.tableColumnName,columnValue:""})):[]);T.debug("conditions",K),d.useEffect(()=>{var L,P;Array.isArray((L=i.lookup)==null?void 0:L.dynamicConditions)&&((P=i.lookup)==null||P.dynamicConditions.map(S=>{O[S.tableColumnName]===void 0&&T.error("Invalid lookup: column "+S.tableColumnName+" in dynamic condition not found.")})),K.length===0&&U()},[i.lookup]),d.useEffect(()=>{var L,P;if(Object.keys(K).length>0){const S=Array.isArray((L=i.lookup)==null?void 0:L.dynamicConditions)?(P=i.lookup)==null?void 0:P.dynamicConditions.map(b=>({columnName:b.lookupColumnName,columnValue:O[b.tableColumnName]??""})):[];if(T.debug(S),!l(K,S)){const b={};S.length>0&&S.map(F=>{b[F.columnName]=F.columnValue}),T.debug("reloading dynamic lookup",e,S),U(b),C(S)}}},[O]);const U=(L={})=>{var P,S;D(_,(s==null?void 0:s.useRform)===!0?Y.RFORM:Y.FORM,e,((P=i.lookup)==null?void 0:P.key)??"",((S=i.lookup)==null?void 0:S.value)??"",L,{},b=>{var F,w,G;if(T.debug(b),(b==null?void 0:b.code)==="ok"){if(!((F=i.lookup)!=null&&F.value.includes(",")))g(b.data);else{const N=(w=i.lookup)==null?void 0:w.value.split(","),J=[];for(let W=0;W<b.data.length;W++){const v=N.map(I=>b.data[W][I]).join(((G=i.lookup)==null?void 0:G.delimiter)??"");J.push({key:b.data[W].key,value:v})}g(J)}E(!1),H("")}else E(!0),H(b.message),g([])},b=>{E(!0),H(b),g([])})},n=d.useMemo(()=>R.filter(L=>L.key===f)[0]??null,[f,R]);return p.jsx(m,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:R,getOptionLabel:L=>Array.isArray(L.value)?Q(L.value[0]):Q(L.value),value:n,onChange:(L,P)=>{P!==null?u(e,P==null?void 0:P.key):u(e,null)},disabled:c(s,y,i,A),className:i.classNames,renderInput:L=>p.jsx(a,{error:z,label:y.formLabel,required:y.is_nullable==="NO",...L,variant:M(),helperText:z?$:V(i,h.selectEnum),disabled:A===X.VIEW||A===X.UPDATE&&(s.primary_key.includes(e)||i.updatable===!1),sx:{"& input":{textAlign:i.alignment}},onBlurCapture:r==null?void 0:r.onBlur,onChangeCapture:r==null?void 0:r.onChange,onClickCapture:r==null?void 0:r.onClick,onDoubleClickCapture:r==null?void 0:r.onDoubleClick,onFocusCapture:r==null?void 0:r.onFocus,onKeyDownCapture:r==null?void 0:r.onKeyDown,onKeyUpCapture:r==null?void 0:r.onKeyUp})})},ei=_=>{const e=Z(_);return k=>e[k]},di=_=>{const e=ii();return(k,y)=>{T.debug(k,y),e(o({appId:_,columnName:k,columnValue:y}))}},pi=(_,e,f,k,y,i,x)=>{const u={onBlur:void 0,onChange:void 0,onClick:void 0,onDoubleClick:void 0,onFocus:void 0,onKeyDown:void 0,onKeyUp:void 0};return ei(x),di(x),u},_i=d.lazy(()=>t(()=>import("./FieldText-1.0.35-Bj53BrE7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),yi=d.lazy(()=>t(()=>import("./FieldTextarea-1.0.35-Lz3MGiKY.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),fi=d.lazy(()=>t(()=>import("./FieldNumber-1.0.35-DUqezqeY.js"),__vite__mapDeps([22,1,2,3,23,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),ki=d.lazy(()=>t(()=>import("./FieldSet-1.0.35-CcT2_G58.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,17,9,12,8,10,11,13,14,15,16,18,19,20,25]),import.meta.url)),ji=d.lazy(()=>t(()=>import("./FieldEnum-1.0.35-lemJSHhu.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,17,9,12,8,10,11,13,14,15,16,18,19,20,25,27,28,29,30,31]),import.meta.url)),Ai=d.lazy(()=>t(()=>import("./FieldDate-1.0.35-CCvztcq4.js"),__vite__mapDeps([32,1,2,3,33,4,5,6,7,34,35,36,9,15,10,11,16,37,38,39,14,40,41,42,43,44,45,19,46,47,48,49,50,51,12,8,13,17,18,20,52,53,54,55,56,57,58]),import.meta.url)),xi=d.lazy(()=>t(()=>import("./FieldDatetime-1.0.35-DRiGuB2W.js"),__vite__mapDeps([59,1,2,3,33,4,5,6,7,34,35,36,9,15,10,11,16,37,38,39,14,40,41,42,43,44,45,19,46,47,48,49,50,51,12,8,13,17,18,20,52,53,54,55,56,60,61,62,25,58,63]),import.meta.url)),ui=d.lazy(()=>t(()=>import("./FieldTime-1.0.35-CltykJbF.js"),__vite__mapDeps([64,1,2,3,33,4,5,6,7,34,35,36,9,15,10,11,16,37,38,39,14,40,41,42,43,44,45,19,46,47,48,49,50,51,12,8,13,17,18,20,52,53,54,55,56,65,62,25]),import.meta.url)),Li=d.lazy(()=>t(()=>import("./FieldCheckbox-1.0.35-oQlM0-RC.js"),__vite__mapDeps([66,1,2,3,4,5,6,7,17,9,12,31,10,11,67,30,19,20]),import.meta.url)),hi=d.lazy(()=>t(()=>import("./ColumnWpMedia-1.0.35-B0OxsKBn.js"),__vite__mapDeps([68,1,2,3,4,5,6,7,33,69,10,9,11,70,35,36,15,16,39,17,12]),import.meta.url)),Oi=d.lazy(()=>t(()=>import("./ColumnHyperlink-1.0.35-BmZXbF-S.js"),__vite__mapDeps([71,1,2,3,4,5,6,7,39,9,8,10,11,12,13,14,15,16,17,18,19,20,31,67,30]),import.meta.url)),bi=d.lazy(()=>t(()=>import("./FieldDuration-1.0.35-DlFomsJY.js"),__vite__mapDeps([72,1,2,3,23,4,5,6,7,33,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),rr=({appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,language:R})=>{T.debug(_,e,f,k,y,i,s,j,A,h,R);const g=ri(),z=pi(g,T,r,e,f,s,_);if(s!=null&&s.media[e]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(s==null?void 0:s.media[e]))return p.jsx(d.Suspense,{children:p.jsx(hi,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,language:R,columnMedia:j==null?void 0:j.media[e],mediaType:s==null?void 0:s.media[e]})});if((s==null?void 0:s.media[e])==="HyperlinkObject")return p.jsx(d.Suspense,{children:p.jsx(Oi,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O})})}else{if(y.column_type.toLowerCase()==="tinyint(1)")return p.jsx(d.Suspense,{children:p.jsx(Li,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O})});if(i.lookup!==void 0)return p.jsx(si,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,columnEvents:z})}switch(y.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return p.jsx(d.Suspense,{children:p.jsx(fi,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,language:R,columnEvents:z})});case"enum":return p.jsx(d.Suspense,{children:p.jsx(ji,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O})});case"set":return p.jsx(d.Suspense,{children:p.jsx(ki,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O})});case"time":return i.duration===!0?p.jsx(d.Suspense,{children:p.jsx(bi,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,language:R,columnEvents:z})}):p.jsx(d.Suspense,{children:p.jsx(ui,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,language:R,columnEvents:z})});case"date":return p.jsx(d.Suspense,{children:p.jsx(Ai,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,language:R,columnEvents:z})});case"datetime":case"timestamp":return p.jsx(d.Suspense,{children:p.jsx(xi,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,language:R,columnEvents:z})});case"tinytext":case"text":case"mediumtext":case"longtext":return p.jsx(d.Suspense,{children:p.jsx(yi,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,columnEvents:z})});default:return p.jsx(d.Suspense,{children:p.jsx(_i,{appId:_,columnName:e,columnValue:f,columnInitialValue:k,columnMetaData:y,storeColumn:i,columnValidation:x,onColumnChange:u,metaData:s,context:j,storeTable:A,storeForm:h,formMode:r,locale:O,columnEvents:z})})}};export{rr as default};
